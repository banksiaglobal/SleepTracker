"use strict";(self.webpackChunkweb_app=self.webpackChunkweb_app||[]).push([[433],{2433:(Q,v,i)=>{i.r(v),i.d(v,{SleepComponent:()=>k});var u=i(6895),e=i(4650),p=i(3546);let b=(()=>{class o{transform(t){if(t){switch(t){case 1:return"0 - 1";case 2:return"2 - 3";case 3:return"> 3"}return""}return""}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275pipe=e.Yjl({name:"coffeePipe",type:o,pure:!0,standalone:!0}),o})(),I=(()=>{class o{transform(t){if(t){switch(t){case 1:return"not bad";case 2:return"ok";case 3:return"absolutely comfortable"}return""}return""}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275pipe=e.Yjl({name:"comfortPipe",type:o,pure:!0,standalone:!0}),o})(),C=(()=>{class o{transform(t){if(t){switch(t){case 1:return"no";case 2:return"yes"}return""}return""}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275pipe=e.Yjl({name:"emotionPipe",type:o,pure:!0,standalone:!0}),o})(),q=(()=>{class o{transform(t){if(t){switch(t){case 1:return"Is it all? I want to sleep";case 2:return"I am ok";case 3:return"Wooow! The world is mine!"}return""}return""}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275pipe=e.Yjl({name:"sonPipe",type:o,pure:!0,standalone:!0}),o})(),_=(()=>{class o{transform(t){if(t){switch(t){case 1:return"I am happy";case 2:return"Not bad";case 3:return"Dangerous! I'm swamped"}return""}return""}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275pipe=e.Yjl({name:"stressPipe",type:o,pure:!0,standalone:!0}),o})();var a=i(4006),S=i(4859),d=i(1948),m=i(9549),c=i(9602),A=i(4144),x=i(3238),y=i(7392);function w(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"mat-card",6)(1,"mat-card-header")(2,"mat-card-title",7),e._uU(3,"Card of sleep: "),e.qZA(),e.TgZ(4,"mat-card-subtitle"),e._uU(5),e.ALo(6,"date"),e.ALo(7,"date"),e.qZA()(),e.TgZ(8,"mat-card-content")(9,"p"),e._uU(10),e.qZA(),e.TgZ(11,"p"),e._uU(12),e.ALo(13,"coffeePipe"),e.qZA(),e.TgZ(14,"p"),e._uU(15),e.ALo(16,"comfortPipe"),e.qZA(),e.TgZ(17,"p"),e._uU(18),e.ALo(19,"emotionPipe"),e.qZA(),e.TgZ(20,"p"),e._uU(21),e.ALo(22,"emotionPipe"),e.qZA(),e.TgZ(23,"p"),e._uU(24),e.ALo(25,"sonPipe"),e.qZA(),e.TgZ(26,"p"),e._uU(27),e.ALo(28,"stressPipe"),e.qZA(),e.TgZ(29,"div",8),e._uU(30),e.qZA()(),e.TgZ(31,"mat-card-actions")(32,"button",9),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.changeDataSleep())}),e._uU(33," change "),e.qZA()()()}if(2&o){const t=e.oxw();e.xp6(5),e.AsE("",e.lcZ(6,10,null==t.currentsleep?null:t.currentsleep.start_time)," - ",e.lcZ(7,12,null==t.currentsleep?null:t.currentsleep.end_time),""),e.xp6(5),e.hij("activity: ",null==t.currentsleep?null:t.currentsleep.activity,""),e.xp6(2),e.hij("coffee: ",e.lcZ(13,14,null==t.currentsleep?null:t.currentsleep.coffee)," (cups)"),e.xp6(3),e.hij("comfort: ",e.lcZ(16,16,null==t.currentsleep?null:t.currentsleep.comfort),""),e.xp6(3),e.hij(" good emotion before sleep: ",e.lcZ(19,18,null==t.currentsleep?null:t.currentsleep.emotion)," "),e.xp6(3),e.hij("lights: ",e.lcZ(22,20,null==t.currentsleep?null:t.currentsleep.lights),""),e.xp6(3),e.hij("quality: ",e.lcZ(25,22,null==t.currentsleep?null:t.currentsleep.quality),""),e.xp6(3),e.hij("stress: ",e.lcZ(28,24,null==t.currentsleep?null:t.currentsleep.stress),""),e.xp6(3),e.hij("result: ",null==t.currentAdvice?null:t.currentAdvice.prediction,"")}}function P(o,s){1&o&&(e.TgZ(0,"div",10),e._uU(1," *there is some info about your sleep, you can click 'Change' and update it "),e.qZA())}function F(o,s){if(1&o){const t=e.EpF();e.TgZ(0,"div",11)(1,"form",12),e.NdJ("ngSubmit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.submitForm())}),e.TgZ(2,"div",7),e._uU(3,"Change info about your sleep:"),e.qZA(),e.TgZ(4,"div",13)(5,"label"),e._uU(6,"Activity:"),e.qZA(),e.TgZ(7,"mat-radio-group",14,15)(9,"mat-radio-button",16),e._uU(10,"light"),e.qZA(),e.TgZ(11,"mat-radio-button",17),e._uU(12,"medium"),e.qZA(),e.TgZ(13,"mat-radio-button",18),e._uU(14,"hard"),e.qZA()()(),e.TgZ(15,"div",13)(16,"label"),e._uU(17,"Cups of cofee:"),e.qZA(),e.TgZ(18,"mat-radio-group",14,19)(20,"mat-radio-button",20),e._uU(21,"0-1"),e.qZA(),e.TgZ(22,"mat-radio-button",21),e._uU(23,"2-3"),e.qZA(),e.TgZ(24,"mat-radio-button",22),e._uU(25,"> 3 "),e.qZA()()(),e.TgZ(26,"div",13)(27,"label"),e._uU(28,"Bed accessories:"),e.qZA(),e.TgZ(29,"mat-radio-group",14,23)(31,"div")(32,"mat-radio-button",20),e._uU(33,"not bad"),e.qZA()(),e.TgZ(34,"div")(35,"mat-radio-button",22),e._uU(36,"absolutely comfortable "),e.qZA()()()(),e.TgZ(37,"div",13)(38,"label"),e._uU(39,"Stress' level:"),e.qZA(),e.TgZ(40,"mat-radio-group",14,24)(42,"div")(43,"mat-radio-button",20),e._uU(44,"I am happy"),e.qZA()(),e.TgZ(45,"div")(46,"mat-radio-button",21),e._uU(47,"Not bad"),e.qZA()(),e.TgZ(48,"div")(49,"mat-radio-button",22),e._uU(50,"Dangerous! I'm swamped. "),e.qZA()()()(),e.TgZ(51,"div",13)(52,"label"),e._uU(53,"Good emotions before sleep:"),e.qZA(),e._UZ(54,"br"),e.TgZ(55,"mat-radio-group",14,25)(57,"mat-radio-button",20),e._uU(58,"No"),e.qZA(),e.TgZ(59,"mat-radio-button",21),e._uU(60,"Yes"),e.qZA()()(),e.TgZ(61,"div",13)(62,"label"),e._uU(63,"Do you sleep with the light:"),e.qZA(),e.TgZ(64,"div")(65,"mat-radio-group",14,26)(67,"mat-radio-button",20),e._uU(68,"No"),e.qZA(),e.TgZ(69,"mat-radio-button",21),e._uU(70,"Yes"),e.qZA()()()(),e.TgZ(71,"div",27)(72,"div",28)(73,"label"),e._uU(74,"Time for bed:"),e.qZA(),e.TgZ(75,"mat-form-field",29),e._UZ(76,"input",30,31),e.TgZ(78,"mat-hint"),e._uU(79,"MM/DD/YYYY"),e.qZA(),e.TgZ(80,"mat-datepicker-toggle",32)(81,"mat-icon",33),e._uU(82,"keyboard_arrow_down"),e.qZA()(),e._UZ(83,"mat-datepicker",null,34),e.qZA(),e.TgZ(85,"mat-form-field"),e._UZ(86,"input",35,36),e.qZA()(),e.TgZ(88,"div",28)(89,"label"),e._uU(90,"Wake-up time:"),e.qZA(),e.TgZ(91,"mat-form-field",29),e._UZ(92,"input",30,37),e.TgZ(95,"mat-hint"),e._uU(96,"MM/DD/YYYY"),e.qZA(),e.TgZ(97,"mat-datepicker-toggle",32)(98,"mat-icon",33),e._uU(99,"keyboard_arrow_down"),e.qZA()(),e._UZ(100,"mat-datepicker",null,38),e.qZA(),e.TgZ(102,"mat-form-field"),e._UZ(103,"input",35,39),e.qZA()()(),e.TgZ(105,"div",13)(106,"label"),e._uU(107,"Your feeling in the morning:"),e.qZA(),e.TgZ(108,"mat-radio-group",14,40)(110,"div")(111,"mat-radio-button",20),e._uU(112,"Is it all? I want to sleep"),e.qZA()(),e.TgZ(113,"div")(114,"mat-radio-button",21),e._uU(115,"I am ok"),e.qZA()(),e.TgZ(116,"div")(117,"mat-radio-button",22),e._uU(118,"Wooow! The world is mine!"),e.qZA()()()(),e.TgZ(119,"button",41),e._uU(120," Submit "),e.qZA()()()}if(2&o){const t=e.MAs(84),r=e.MAs(101),n=e.oxw();e.xp6(1),e.Q6J("formGroup",n.addInfoForm),e.xp6(6),e.Q6J("formControlName","activity"),e.xp6(11),e.Q6J("formControlName","coffee"),e.xp6(11),e.Q6J("formControlName","comfort"),e.xp6(11),e.Q6J("formControlName","stress"),e.xp6(15),e.Q6J("formControlName","emotion"),e.xp6(10),e.Q6J("formControlName","light"),e.xp6(11),e.Q6J("matDatepicker",t)("formControlName","start_day"),e.xp6(4),e.Q6J("for",t),e.xp6(6),e.Q6J("formControlName","start_time"),e.xp6(6),e.Q6J("matDatepicker",r)("formControlName","end_day"),e.xp6(5),e.Q6J("for",r),e.xp6(6),e.Q6J("formControlName","end_time"),e.xp6(5),e.Q6J("formControlName","quality"),e.xp6(11),e.Q6J("disabled",n.addInfoForm.invalid)}}const f=new Date;f.getDate(),f.getMonth(),f.getFullYear();let Y=(()=>{class o{constructor(t){this.fb=t,this.onSaveSleepSettings=new e.vpe,this.changeSleep=!1}changeDataSleep(){void 0!==this.currentsleep&&(this.changeSleep=!0,this.addInfoForm=this.fb.group({activity:[this.currentsleep?.activity,[a.kI.required]],coffee:[String(this.currentsleep?.coffee),[a.kI.required]],comfort:[String(this.currentsleep?.comfort),[a.kI.required]],stress:[String(this.currentsleep?.stress),[a.kI.required]],emotion:[String(this.currentsleep?.emotion),[a.kI.required]],light:[String(this.currentsleep?.lights),[a.kI.required]],start_time:["22:00",[a.kI.required]],start_day:["",[a.kI.required]],end_time:["06:00",[a.kI.required]],end_day:["",[a.kI.required]],quality:[String(this.currentsleep?.quality),[a.kI.required]]}))}submitForm(){const t=this.convertDate(new Date(this.addInfoForm.value.start_day)),r=this.convertDate(new Date(this.addInfoForm.value.end_day));this.onSaveSleepSettings.emit({start_time:`${t} ${this.addInfoForm.value.start_time+":00"}`,end_time:`${r} ${this.addInfoForm.value.end_time+":00"}`,activity:this.addInfoForm.value.activity,coffee:this.addInfoForm.value.coffee,comfort:this.addInfoForm.value.comfort,stress:this.addInfoForm.value.stress,emotion:this.addInfoForm.value.emotion,light:this.addInfoForm.value.light,quality:this.addInfoForm.value.quality})}convertDate(t){return new Date(t.getTime()-6e4*t.getTimezoneOffset()).toISOString().split("T")[0]}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(a.qu))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-sleep-view"]],inputs:{currentsleep:"currentsleep",sleep:"sleep",currentAdvice:"currentAdvice"},outputs:{onSaveSleepSettings:"onSaveSleepSettings"},standalone:!0,features:[e.jDz],decls:6,vars:3,consts:[[1,"page-light"],[1,"main-container"],[1,"page"],["class","example-card",4,"ngIf"],["class","small-info",4,"ngIf"],["class","change-form",4,"ngIf"],[1,"example-card"],[1,"title-box"],[1,"advice"],["color","primary","mat-button-raised","",3,"click"],[1,"small-info"],[1,"change-form"],[1,"user-form",3,"formGroup","ngSubmit"],[1,"field"],[3,"formControlName"],["activity",""],["color","primary","value","light"],["color","primary","value","medium"],["color","primary","value","hard"],["coffee",""],["color","primary","value","1"],["color","primary","value","2"],["color","primary","value","3"],["comfort",""],["stress",""],["emotion",""],["light",""],[1,"field","field-time-group"],[1,"field__time"],["appearance","outline",1,"example-full-width"],["matInput","",3,"matDatepicker","formControlName"],["start_day",""],["matIconSuffix","",3,"for"],["matDatepickerToggleIcon",""],["picker",""],["matInput","","type","time",3,"formControlName"],["start_time",""],["end_day","","start_day",""],["picker2",""],["end_time",""],["quality",""],["color","primary","mat-raised-button","","cdkFocusInitial","","type","submit",3,"disabled"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e.YNc(3,w,34,26,"mat-card",3),e.YNc(4,P,2,0,"div",4),e.YNc(5,F,121,17,"div",5),e.qZA()()()),2&t&&(e.xp6(3),e.Q6J("ngIf",!r.changeSleep),e.xp6(1),e.Q6J("ngIf",!r.changeSleep),e.xp6(1),e.Q6J("ngIf",r.changeSleep))},dependencies:[u.ez,u.O5,u.uU,p.QW,p.a8,p.hq,p.dn,p.dk,p.$j,p.n5,b,I,C,q,_,S.ot,S.lW,d.Fk,d.VQ,d.U0,m.lN,m.KE,m.bx,m.R9,c.FA,c.Mq,c.hl,c.nW,c.Q0,A.c,A.Nt,a.UX,a._Y,a.Fj,a.JJ,a.JL,a.sg,a.u,x.XK,y.Ps,y.Hw],styles:['p[_ngcontent-%COMP%]{margin-bottom:5px}.title-box[_ngcontent-%COMP%]{font-weight:700;color:var(--base-dark-color);font-size:25px}label[_ngcontent-%COMP%]{font-weight:600}.field[_ngcontent-%COMP%]:after, .field[_ngcontent-%COMP%]:before{content:"";width:100%;margin:5px 0;border-bottom:1px solid #d1d7dc}.field[_ngcontent-%COMP%]{margin-bottom:10px}.field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin-right:10px}.field-time-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap}.advice[_ngcontent-%COMP%]{font-weight:600px}']}),o})();var T=i(4004),g=i(262),h=i(2843),N=i(8505),U=i(9299),J=i(5480),M=i(5625),D=i(8339);let k=(()=>{class o{constructor(t,r,n,l,Z){this.activateRoute=t,this.router=r,this.sleep=n,this.message=l,this.loading=Z}ngOnInit(){this.loadSleep()}loadSleep(){const t=this.activateRoute.snapshot.paramMap.get("id");t?(this.sleepId=t,this.getSleepById(this.sleepId),this.getSleepAdviceById(this.sleepId)):this.router.navigate(["/about"])}getSleepById(t){const r=this.sleep.getSleepById(t).pipe((0,T.U)(n=>n),(0,g.K)(n=>(this.message.shomMessage("Could not load any sleeps.",n),(0,h._)(()=>n))));return this.currentsleep$=this.loading.showSpinnerUntilCompleted(r),this.currentsleep$}onSaveSleepSettings(t){if(t){const r=this.sleep.changeSleepSettings(this.sleepId,t).pipe((0,N.b)(()=>{this.message.shomMessage("Ok! Your sleep was processed")}),(0,g.K)(n=>(this.message.shomMessage("The sleep is cancelled"),this.onGoToAdvice(this.sleepId),(0,h._)(()=>n))));this.sleep$=this.loading.showSpinnerUntilCompleted(r)}}getSleepAdviceById(t){const r=this.sleep.getSleepAdviceById(t).pipe((0,T.U)(n=>n),(0,g.K)(n=>(this.message.shomMessage("Could not load package.",n),(0,h._)(()=>n))));return this.currentAdvice$=this.loading.showSpinnerUntilCompleted(r),this.currentAdvice$}onGoToAdvice(t){this.router.navigate(["/advice",t])}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(U.gz),e.Y36(U.F0),e.Y36(J.L),e.Y36(M.K),e.Y36(D.b))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-sleep"]],standalone:!0,features:[e.jDz],decls:4,vars:9,consts:[[3,"currentsleep","sleep","currentAdvice","onSaveSleepSettings"]],template:function(t,r){1&t&&(e.TgZ(0,"app-sleep-view",0),e.NdJ("onSaveSleepSettings",function(l){return r.onSaveSleepSettings(l)}),e.ALo(1,"async"),e.ALo(2,"async"),e.ALo(3,"async"),e.qZA()),2&t&&e.Q6J("currentsleep",e.lcZ(1,3,r.currentsleep$))("sleep",e.lcZ(2,5,r.sleep$))("currentAdvice",e.lcZ(3,7,r.currentAdvice$))},dependencies:[u.ez,u.Ov,Y]}),o})()}}]);